import{a as x,d as f}from"./chunk-ZXEDTS4D.js";import{A as c,G as b,Ja as d,L as E,Pa as s,Pb as I,Q as v,Ta as S,aa as g,da as y,dc as $,fb as D,gb as P,lb as i,mb as a,nb as w,ob as C,sb as u,tb as m,ub as p,wb as n,xb as h,ya as T}from"./chunk-N3FGGBGO.js";var L=["searchValue"],R=["tbody"],M=(o,t)=>t.id;function O(o,t){if(o&1&&(i(0,"tr",4,2)(2,"td"),n(3),a(),i(4,"td"),n(5),a()()),o&2){let e=t.$implicit;C("id",e.id),d(3),h(e.id),d(2),h(e.name)}}function q(o,t){o&1&&(i(0,"div"),n(1,"No record found"),a())}var _=class o{constructor(t,e){this.http=t;this.store=e;this.productTableData$=this.store.select(f),console.log(this.productTableData$,"this.productTableData$"),this.productTableDataAll$=this.store.select(f),this.productTableData$.subscribe(r=>{console.log(r),this.productTableDataSignal.set(r)})}searchValue;children;productTableData$;productTableDataAll$;productTableDataSignal=T([]);ngOnInit(){this.getProductList()}getProductList(){this.store.dispatch(x())}ngAfterViewInit(){this.searchEvent(),this.getChildRow()}getChildRow(){this.children.forEach((t,e)=>{let r=t.nativeElement.querySelectorAll("tr");console.log(`Tbody ${e} has ${r} rows`),this.children.forEach((l,A)=>{let Q=l.nativeElement.querySelectorAll("tr");console.log(`Tbody ${A}:`),Q.forEach(V=>console.log(V.textContent))})})}searchEvent(){b(this.searchValue.nativeElement,"keyup").pipe(E(300),y(500),c(t=>t.target.value),v(),g(t=>this.filterSearchProduct(t))).subscribe(t=>{console.log(t,"filtered"),this.productTableDataSignal.set(t)})}filterSearchProduct(t){return this.productTableDataAll$.pipe(c(e=>t?e.filter(r=>r.name.toLowerCase().includes(t.toLowerCase())):e))}static \u0275fac=function(e){return new(e||o)(s(I),s($))};static \u0275cmp=S({type:o,selectors:[["app-product"]],viewQuery:function(e,r){if(e&1&&(u(L,5),u(R,5)),e&2){let l;m(l=p())&&(r.searchValue=l.first),m(l=p())&&(r.children=l)}},decls:15,vars:1,consts:[["searchValue",""],["tbody",""],["tr",""],["type","text"],[3,"id"]],template:function(e,r){e&1&&(i(0,"div"),w(1,"input",3,0),a(),i(3,"table")(4,"thead")(5,"tr")(6,"th"),n(7,"Id"),a(),i(8,"th"),n(9,"Product"),a()()(),i(10,"tbody",null,1),D(12,O,6,3,"tr",4,M,!1,q,2,0,"div"),a()()),e&2&&(d(12),P(r.productTableDataSignal()))},encapsulation:2})};export{_ as Product};
